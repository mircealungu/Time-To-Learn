define("time",[],function(){function e(){var e;try{e=tizen.time.getCurrentDateTime()}catch(t){console.error("Error: ",t.message)}return e}function t(e){return 10>e&&(e="0"+e),e}var n,o,r,i,a,c,d;return{create:function(){n=e(),o=n.getFullYear(),r=t(n.getDate()),i=t(n.getMonth()+1),a=t(n.getHours()),c=t(n.getMinutes()),d=t(n.getSeconds())},getTimestamp:function(){return o+"-"+i+"-"+r+"T"+a+":"+c+":"+d},getDay:function(){return r},getHours:function(){return a},getMinutes:function(){return c}}}),define("events",["time"],function(e){var t="https://zeeguu.unibe.ch//upload_smartwatch_events",n=[],o=0;return{add:function(t,r){e.create(),n[o++]={bookmark_id:r,time:e.getTimestamp(),event:t}},save:function(){localStorage.setItem("events",JSON.stringify(n)),console.log("events saved: "+JSON.stringify(n))},load:function(){n=JSON.parse(localStorage.getItem(localStorage.key("events"))),console.log("events loaded: "+JSON.stringify(n))},send:function(e){var o=new FormData;o.append("events",JSON.stringify(n));var r=new XMLHttpRequest;r.open("POST",t+"?session="+e,!1),r.onload=function(){"OK"==this.responseText&&console.log("events are succesfully send!")},r.send(o)},print:function(){console.log(JSON.stringify(n))}}}),define("userData",["events"],function(e){var t=0,n=[],o=50,r=0;return{setWordPair:function(e,t,o,r){n[e]={word:t,translation:o,id:r}},getWordPair:function(e){return n[e]},areThereWords:function(){return n.isEmpty()?!0:!1},load:function(){if(0===localStorage.length)console.log("No user data available.");else for(var n=0;n<localStorage.length;n++)if(console.log("key: "+localStorage.key(n)+" item: "+localStorage.getItem(localStorage.key(n))),"accountCode"===localStorage.key(n)){r=localStorage.getItem(localStorage.key(n)),console.log("accountCode loaded: "+r);var o=document.getElementById("login"),i=document.getElementById("mainPage");o.style.display="none",i.style.display="block"}else"wordNumber"===localStorage.key(n)?(t=localStorage.getItem(localStorage.key(n)),console.log("wordNumber loaded: "+t)):"events"===localStorage.key(n)&&e.load()},save:function(){"localStorage"in window?(localStorage.setItem("accountCode",r),console.log("accountCode saved: "+r),localStorage.setItem("wordNumber",t),console.log("wordNumber saved: "+t),e.save()):console.log("no localStorage in window")},addEvent:function(o){e.add(o,n[t].id)},getCode:function(){return r},setCode:function(e){r=e},getNumberOfWords:function(){return o},printWords:function(){console.log(JSON.stringify(n))},getWordNumber:function(){return t},setWordNumber:function(e){t=e},nextWord:function(){t++},printEvents:function(){e.print()}}}),define("login",["userData"],function(e){function t(){return a.clearRect(0,0,360,110),0}function n(e,t){a.font="50px Arial",a.fillStyle="black",a.textAlign="center",a.fillText(e,270-60*(t-1),90)}function o(e,t,o){return t>0&&(o+=e*Math.pow(10,t-1),n(e,t),console.log("inserted number: "+o)),o}function r(){var e=1234;return e}var i,a;return function(){var n=4,c=0,d=0;e.load(),i=document.getElementById("digitSpace"),a=i.getContext("2d"),d=e.getCode(),console.log("local logincode: "+d),document.getElementById("oneButton").addEventListener("click",function(){c=o("1",n,c),n-=1}),document.getElementById("twoButton").addEventListener("click",function(){c=o("2",n,c),n-=1}),document.getElementById("threeButton").addEventListener("click",function(){c=o("3",n,c),n-=1}),document.getElementById("fourButton").addEventListener("click",function(){c=o("4",n,c),n-=1}),document.getElementById("fiveButton").addEventListener("click",function(){c=o("5",n,c),n-=1}),document.getElementById("sixButton").addEventListener("click",function(){c=o("6",n,c),n-=1}),document.getElementById("sevenButton").addEventListener("click",function(){c=o("7",n,c),n-=1}),document.getElementById("eightButton").addEventListener("click",function(){c=o("8",n,c),n-=1}),document.getElementById("nineButton").addEventListener("click",function(){c=o("9",n,c),n-=1}),document.getElementById("zeroButton").addEventListener("click",function(){c=o("0",n,c),n-=1}),document.getElementById("deleteButton").addEventListener("click",function(){c=t(),n=4}),document.getElementById("okayButton").addEventListener("click",function(){if(0===n)if(c===r()){e.setCode(c);var o,i;o=document.getElementById("login"),i=document.getElementById("mainPage"),o.style.display="none",i.style.display="block"}else c=t(),n=4})}}),define("session",["userData"],function(e){function t(e){return Object.keys(e).length}function n(n){var c,l,u=0,s=new FormData;s.append("after_date",d);var g=new XMLHttpRequest;g.open("POST",i+a+n,!1),g.onload=function(){var n=JSON.parse(this.responseText);for(c=0;c<t(n)&&!(u>e.getNumberOfWords());c++)for(l=0;l<t(n[c].bookmarks);l++)o.font=screen.WORD_FONT_SIZE+screen.FONT,o.measureText(String(n[c].bookmarks[l].from)).width<=r-10&&(o.font=screen.TRANSLATION_FONT_SIZE+screen.FONT,o.measureText(String(n[c].bookmarks[l].to)).width<=r-10&&(e.setWordPair(u,n[c].bookmarks[l].from,n[c].bookmarks[l].to,n[c].bookmarks[l].id),u++))},g.send(s)}var o,r=360,i="https://zeeguu.unibe.ch/",a="bookmarks_by_day?session=",c="session/i@mir.lu",d="2016-05-05T00:00:00";return{create:function(e){o=e;var t,r=new FormData;r.append("password","pass");var a=new XMLHttpRequest;a.open("POST",i+c,!1),a.onload=function(){t=parseInt(this.responseText),console.log("session number: "+t),n(t)},a.send(r)},printWords:function(){e.printWords()}}}),define("battery",[],function(){function e(e,t,n,o){var r=(o-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}}function t(t,n,o,r,i){var a=e(t,n,o,i),c=e(t,n,o,r),d=180>=i-r?"0":"1",l=["M",a.x,a.y,"A",o,o,0,d,0,c.x,c.y].join(" ");return l}var n="green",o="red";return{draw:function(){var e=navigator.battery||navigator.webkitBattery||navigator.mozBattery;e.onchargingchange=function(){e.charging?console.log("battery is charging"):console.log("battery is not charging")},e.onlevelchange=function(){console.log(Math.floor(100*e.level)),document.getElementById("battery").setAttribute("d",t(180,180,180,270,270+180*e.level)),e.level>.15?document.getElementById("battery").setAttribute("stroke",n):document.getElementById("battery").setAttribute("stroke",o)}}}}),define("gui",["battery","userData","time"],function(e,t,n){function o(e){var t=e/4,n="rotate("+t+"deg)";document.getElementById("timeBackground").style.transform=n}function r(){s.clearRect(0,0,100,90),s.font="50px Arial",s.fillStyle=p,s.textAlign=E,s.fillText(n.getDay(),50,60)}function i(e,t,n,o){u.font=o+f,u.fillStyle=p,u.textAlign=E,u.fillText(e,t,n)}function a(){g.clearRect(0,0,k,b),g.font=m+f,g.fillStyle=p,g.textAlign=E,g.fillText(n.getHours()+":"+n.getMinutes(),k/2,I)}function c(e,t){var n=.1;e.style.display="block";var o=setInterval(function(){n>=.8&&clearInterval(o),e.style.opacity=n,e.style.filter="alpha(opacity="+100*n+")",n+=.1*n},t)}function d(e,t){var n=.8,o=setInterval(function(){.1>=n&&(clearInterval(o),e.style.visibility="hidden"),e.style.opacity=n,e.style.filter="alpha(opacity="+100*n+")",n-=.1*n},t)}function l(e){var t=document.getElementById("imageFade");t.style.visibility="visible",t.style.opacity=1;var n=t.getContext("2d"),o=new Image;o.onload=function(){n.drawImage(o,0,0)},o.src=e,setTimeout(function(){d(t,50)},500)}var u,s,g,f="px Arial",m=120,y=45,v=35,E="center",p="white",k=360,B=360,b=180,I=160,S=120,h=45,w=95,N=!1;return{draw:function(){n.create();var t=60*n.getHours()+n.getMinutes();a(),r(),o(t),e.draw()},create:function(e){u=e;var n=document.getElementById("digitalTime");g=n.getContext("2d");var o=document.getElementById("dateSpace");s=o.getContext("2d"),i(t.getWordPair(t.getWordNumber()).word,k/2,h,y),document.getElementById("nextButton").addEventListener("click",function(){t.nextWord(),t.getWordNumber()>t.getNumberOfWords()&&t.setWordNumber(0),u.clearRect(0,0,k,B),i(t.getWordPair(t.getWordNumber()).word,k/2,h,y),N=!1}),document.getElementById("wordSpace").addEventListener("click",function(){N?(t.addEvent("hide"),u.clearRect(0,0,k,S),i(t.getWordPair(t.getWordNumber()).word,k/2,h,y),N=!1):(t.addEvent("reveal"),u.clearRect(0,0,k,S),i(t.getWordPair(t.getWordNumber()).word,k/2,h,y),i(t.getWordPair(t.getWordNumber()).translation,k/2,w,v),N=!0)}),document.getElementById("menuButton").addEventListener("click",function(){var e=document.getElementById("menu");e.style.visibility="visible",c(e,5)}),document.getElementById("menu").addEventListener("click",function(){var e=document.getElementById("menu");d(e,5)}),document.getElementById("trashButton").addEventListener("click",function(){t.addEvent("trash");var e="css/trash_icon.png";l(e)}),document.getElementById("learnedButton").addEventListener("click",function(){t.addEvent("learned");var e="css/I_learned_it_icon.png";l(e)}),document.getElementById("settingsButton").addEventListener("click",function(){var e=document.getElementById("settings");e.style.visibility="visible",c(e,5)}),document.getElementById("settings").addEventListener("click",function(){var e=document.getElementById("settings");d(e,5)})}}}),define("device",["userData"],function(e){function t(){try{tizen.power.setScreenStateChangeListener(function(t,n){"SCREEN_NORMAL"===n&&"SCREEN_OFF"===t?(console.log("We just woke up"),e.addEvent("screenOn")):(console.log("The display has been switched off"),e.addEvent("screenOff"),e.save(),e.printEvents())})}catch(t){}}function n(){document.addEventListener("tizenhwkey",function(e){if("back"===e.keyName)try{tizen.application.getCurrentApplication().exit()}catch(t){}})}return{create:function(){n()},listen:function(){t()}}}),require(["login","session","gui","device"],function(e,t,n,o){function r(){n.draw(),o.listen(),setTimeout(r,1e3)}var i=document.getElementById("wordSpace"),a=i.getContext("2d");new e,t.create(a),t.printWords(),n.create(a),o.create(),r()}),define("main",function(){});