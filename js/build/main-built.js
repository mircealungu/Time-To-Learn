define("time",[],function(){function e(){var e;try{e=tizen.time.getCurrentDateTime()}catch(t){console.error("Error: ",t.message)}return e}function t(e){return 10>e&&(e="0"+e),e}var n,i,o,r,a,s,c,l,d,u=0,g=!1,f=100,h=90,m="white",v=72,p=63,y=180,w=360,E=160,S="120px Arial",I="white";return{create:function(){n=document.getElementById("timeCanvas").getContext("2d"),i=document.getElementById("iconCanvas").getContext("2d")},refresh:function(){o=e(),r=o.getFullYear(),a=t(o.getDate()),s=t(o.getMonth()+1),c=t(o.getHours()),l=t(o.getMinutes()),d=t(o.getSeconds()),g||u++},getTimer:function(){return u},resetTimer:function(){u=0},pause:function(){g=!0},start:function(){g=!1},getTimestamp:function(){return r+"-"+s+"-"+a+"T"+c+":"+l+":"+d},getHours:function(){return c},getMinutes:function(){return l},drawDate:function(){i.clearRect(0,0,f,h),i.font="30px Arial",i.fillStyle=m,i.textAlign="center",i.fillText(a,v,p)},draw:function(){n.clearRect(0,0,w,y),n.font=S,n.fillStyle=I,n.textAlign="center",n.fillText(c+":"+l,w/2,E)}}}),define("events",["time"],function(e){var t="https://zeeguu.unibe.ch/upload_smartwatch_events",n=[],i=0;return{add:function(t,o){e.create(),n[i++]={bookmark_id:o,time:e.getTimestamp(),event:t}},save:function(){if(null!==localStorage.getItem("events")){var e=JSON.parse(localStorage.getItem("events"));console.log("currently in local storage: "+JSON.stringify(e)),console.log("saving..."),localStorage.setItem("events",JSON.stringify(e.concat(n)));var t=JSON.parse(localStorage.getItem("events"));console.log("events saved: "+JSON.stringify(t))}else console.log("currently no events in storage"),console.log("saving..."),localStorage.setItem("events",JSON.stringify(n)),console.log("events saved: "+JSON.stringify(n))},load:function(){null!==localStorage.getItem("events")&&(n=JSON.parse(localStorage.getItem("events")),console.log("loaded events: "+JSON.stringify(n)))},send:function(e){var n=new FormData,i=JSON.parse(localStorage.getItem("events"));console.log("trying to send these events:"+JSON.stringify(i)),n.append("events",JSON.stringify(i));var o=new XMLHttpRequest;o.open("POST",t+"?session="+e,!0),o.onload=function(){console.log("events uploaded to db: "+this.responseText),"OK"===this.responseText&&(console.log("removing events localStorage.."),localStorage.removeItem("events"),console.log("events in storage: "+localStorage.getItem("events")))},o.send(n)},print:function(){console.log(JSON.stringify(n))},clear:function(){n=[],i=0}}}),define("userData",["events"],function(e){function t(){for(var e="words: ",t=0;t<n.length;t++)e+=n[t].word+", ";console.log(e)}var n=[],i=0,o=!1,r=5,a="https://zeeguu.unibe.ch/delete_bookmark/";return{setWordPair:function(e,t,i,o){n[e]={word:t,translation:i,id:o,timesCorrect:0}},getWordPair:function(e){return n[e]},areThereWords:function(){return n.length>0?!0:!1},updateWordPair:function(e){e?(console.log("word is correct"),n[0].timesCorrect++,n.splice(n[0].timesCorrect*r,0,n[0]),console.log("new position for word "+n[0].word+" = "+n[0].timesCorrect*r),n.splice(0,1),t()):(console.log("word is wrong"),n[0].timesCorrect=0,n.splice(r,0,n[0]),console.log("new position for word "+n[0].word+" = "+n[0].timesCorrect),n.splice(0,1),t())},getWord:function(){return o?n[0].translation:n[0].word},removeWord:function(){return n.length>10?(n.splice(0,1),!0):!1},deleteFromServer:function(){var e=new XMLHttpRequest;console.log("trying to delete word: "+n[0].word),e.open("POST",a+n[0].id+"?session="+i,!0),e.onload=function(){"OK"===this.responseText?console.log("SUCCES: word is deleted"):console.log("FAIL: word could not be deleted")},e.send(data)},getTranslation:function(){return o?n[0].word:n[0].translation},load:function(){console.log("loading userdata.."),0===localStorage.length?console.log("No user data available."):(i=localStorage.getItem("accountCode"),console.log("loaded accountCode: "+i),e.load(),null!==localStorage.getItem("wordPair")&&(n=JSON.parse(localStorage.getItem("wordPair")),console.log("loaded wordpairs: "+JSON.stringify(n))))},saveCode:function(e){i=e,localStorage.setItem("accountCode",i),console.log("accountCode saved: "+localStorage.getItem("accountCode"))},saveWordPair:function(){localStorage.setItem("wordPair",JSON.stringify(n)),console.log("wordPair saved: "+localStorage.getItem("wordPair"))},saveEvents:function(){e.print(),e.save(),e.clear()},sendEvents:function(){try{e.send(i)}catch(t){console.log("Error during sending: "+t)}},addEvent:function(t){e.add(t,n[0].id)},getCode:function(){return i},printWords:function(){console.log(JSON.stringify(n))},getReverseStatus:function(){return o},setReverseStatus:function(e){o=e},printEvents:function(){e.print()},clear:function(){localStorage.clear()}}}),define("login",["userData"],function(e){function t(){document.getElementById("loginPage").style.display="none",document.getElementById("mainPage").style.display="block"}function n(e,t){f=document.getElementById("digitsCanvas").getContext("2d"),f.clearRect(T+k*(e-1),0,k,b),f.font=_,f.fillStyle=D,f.textAlign="center",f.fillText(t,B+k*(e-1),O)}function i(e,t,i){return t?(i++,i>9&&(i=0)):(i--,0>i&&(i=9)),n(e,i),i}function o(e){document.getElementById("loginPopup").style.visibility="visible",f=document.getElementById("loginPopupCanvas").getContext("2d"),f.clearRect(0,0,w,E),f.font=J,f.fillStyle=X,f.textAlign="center","NO_CONNECTION"===e?(f.fillText("NO CONNECTION",S,P),f.fillText("There isn't a connection",S,N),f.fillText("with the internet.",S,M),f.fillText("Please check your",S,R),f.fillText("internet connection.",S,L)):"WRONG_SESSION_NUMBER"===e?(f.fillText("WRONG PASSWORD",S,P),f.fillText("This password is not",S,N),f.fillText("recognized in our database.",S,M),f.fillText("Please check your account",S,R),f.fillText("at Zeeguu.",S,L)):(f.fillText("TOO FEW WORDS",S,P),f.fillText("More words needed,",S,N),f.fillText("please make sure you have",S,M),f.fillText("at least 10 words.",S,R)),f.font=Y,f.fillStyle=X,f.textAlign="center",f.fillText("please press the screen to try again",S,A),c(1),document.getElementById("loginPopupCanvas").addEventListener("click",function(){document.getElementById("loginPopup").style.visibility="hidden"})}function r(){f=document.getElementById("loginHeaderCanvas").getContext("2d"),f.clearRect(0,0,w,I),f.font=W,f.fillStyle=F,f.textAlign="center",f.fillText("Please fill in your 8 digit code",S,C)}function a(e){f=document.getElementById("iconPageNrCanvas").getContext("2d"),f.clearRect(0,0,w,x),1===e?(f.beginPath(),f.arc(170,7,7,0,2*Math.PI),f.fillStyle="#FFFFFF",f.fill(),f.beginPath(),f.arc(190,7,7,0,2*Math.PI),f.fillStyle="#C3C3C3",f.fill()):(f.beginPath(),f.arc(170,7,7,0,2*Math.PI),f.fillStyle="#C3C3C3",f.fill(),f.beginPath(),f.arc(190,7,7,0,2*Math.PI),f.fillStyle="#FFFFFF",f.fill())}function s(e){r(),a(e),n(1,0),n(2,0),n(3,0),n(4,0)}function c(e){h=0,m=0,v=0,p=0,1===e&&(y=0),s(e)}function l(e){h=i(1,e,h)}function d(e){m=i(2,e,m)}function u(e){v=i(3,e,v)}function g(e){p=i(4,e,p)}var f,h=0,m=0,v=0,p=0,y=0,w=360,E=360,S=180,I=70,C=62,x=15,k=76,b=105,T=40,B=65,O=80,P=110,N=155,M=185,R=215,L=245,A=290,W="15px Arial",F="white",_="80px Arial",D="black",J="30px Arial",X="white",Y="15px Arial";return function(n){null!==localStorage.getItem("accountCode")?(e.load(),t(),n(e.getCode())):(f=document.getElementById("digitsCanvas").getContext("2d"),s(1),document.getElementById("first_plus").addEventListener("click",function(){l(!0)}),document.getElementById("first_min").addEventListener("click",function(){l(!1)}),document.getElementById("second_plus").addEventListener("click",function(){d(!0)}),document.getElementById("second_min").addEventListener("click",function(){d(!1)}),document.getElementById("third_plus").addEventListener("click",function(){u(!0)}),document.getElementById("third_min").addEventListener("click",function(){u(!1)}),document.getElementById("fourth_plus").addEventListener("click",function(){g(!0)}),document.getElementById("fourth_min").addEventListener("click",function(){g(!1)}),document.getElementById("setNextButton").addEventListener("click",function(){if(0===y)y=h.toString()+m.toString()+v.toString()+p.toString(),c(2);else{y=y+h.toString()+m.toString()+v.toString()+p.toString();var i=n(y);"SUCCESS"===i?(e.saveCode(y),t()):o(i)}}))}}),define("session",["userData","login"],function(e,t){function n(t){var n;console.log("Trying to get words with session: "+t);try{var g=new XMLHttpRequest;g.open("GET",d+u+r+"?session="+t,!1),g.onload=function(){try{var t=JSON.parse(this.responseText),r=0;if(Object.keys(t).length<10)o="TOO_FEW_WORDS";else{for(n=0;n<Object.keys(t).length;n++)i.font=c,i.measureText(String(t[n].from)).width<=a&&i.measureText(String(t[n].to)).width<=a&&(i.font=l,i.measureText(String(t[n].from)).width<=s&&i.measureText(String(t[n].to)).width<=s&&(e.setWordPair(r,t[n].from,t[n].to,t[n].id),r++));console.log("number of words loaded: "+r),e.saveWordPair(),o="SUCCESS"}}catch(d){console.log("wrong session number: "+d),o="WRONG_SESSION_NUMBER"}},g.send()}catch(f){console.log("no internet connection: "+f),o="NO_CONNECTION"}}var i,o,r=50,a=340,s=280,c="45px Arial",l="35px Arial",d="https://zeeguu.unibe.ch/",u="bookmarks_to_study/";return{create:function(t,r){i=t,e.areThereWords()?(o="SUCCESS",console.log("Using words which were already saved.")):n(r)},printWords:function(){e.printWords()},getStatus:function(){return o}}}),define("battery",[],function(){function e(e,t,n,i){var o=(i-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}}function t(t,n,i,o,r){var a=e(t,n,i,r),s=e(t,n,i,o),c=180>=r-o?"0":"1",l=["M",a.x,a.y,"A",i,i,0,c,0,s.x,s.y].join(" ");return l}var n="green",i="red";return{draw:function(){var e=navigator.battery||navigator.webkitBattery||navigator.mozBattery;e.onchargingchange=function(){e.charging?console.log("battery is charging"):console.log("battery is not charging")},e.onlevelchange=function(){console.log(Math.floor(100*e.level)),document.getElementById("battery").setAttribute("d",t(180,180,180,270,270+180*e.level)),e.level>.15?document.getElementById("battery").setAttribute("stroke",n):document.getElementById("battery").setAttribute("stroke",i)}}}}),define("weather",[],function(){function e(e,t){console.log(e),console.log(t);try{var n=new XMLHttpRequest;n.open("GET","http://api.openweathermap.org/data/2.5/weather?lat="+e+"&lon="+t+"&APPID="+a,!1),n.onload=function(){console.log("getting weather data.."),console.log(this.responseText),s=JSON.parse(this.responseText),console.log(JSON.stringify(s))},n.send()}catch(i){c=!1,console.log("Error getWeather: "+i)}}function t(){var t=new XMLHttpRequest;try{t.open("GET","http://ip-api.com/json",!1),t.onload=function(){console.log("getting location.."),console.log(this.responseText);var t=JSON.parse(this.responseText);e(t.lat,t.lon),console.log(JSON.stringify(t))},t.send()}catch(n){c=!1,console.log("Error getLocation: "+n)}}function n(e){var t=new Date(1e3*e);return 60*t.getUTCHours()+t.getUTCMinutes()-t.getTimezoneOffset()}function i(){return(s.main.temp-273.15).toFixed(0)}var o,r,a="ab2771b4d49ab0798786dd6f2bee71a0",s=null,c=!1,l=50,d=25,u="17px Arial",g="white";return{create:function(){o=document.getElementById("weatherCanvas").getContext("2d"),r=document.getElementById("temperatureCanvas").getContext("2d")},refresh:function(){c=!0,t(),null===s&&(s=JSON.parse(localStorage.getItem("weather")))},save:function(){localStorage.setItem("weather",JSON.stringify(s))},getSunset:function(){return n(s.sys.sunset)},getSunrise:function(){return n(s.sys.sunrise)},draw:function(){if(c){c=!1;var e=new Image;e.onload=function(){o.drawImage(e,0,0)},e.src="http://openweathermap.org/img/w/"+s.weather[0].icon+".png"}r.clearRect(0,0,l,l),r.font=u,r.fillStyle=g,r.textAlign="center",r.fillText(i()+"°C",d,d)}}}),define("fireworks",[],function(){function e(e,t){return Math.random()*(t-e)+e}function t(e,t,n,i){var o=e-n,r=t-i;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}function n(){s=[],c=[],l=document.getElementById("popupCanvas"),d=l.getContext("2d"),u=window.innerWidth,g=window.innerHeight,l.width=u,l.height=g,window.addEventListener("resize",function(){l.width=u=window.innerWidth,l.height=g=window.innerHeight}),l.addEventListener("touchmove",function(e){e.preventDefault(),m.x=e.touches.item(0).clientX,m.y=e.touches.item(0).clientY}),l.addEventListener("touchstart",function(e){e.preventDefault(),m.x=e.touches.item(0).clientX,m.y=e.touches.item(0).clientY,m.down=!0}),l.addEventListener("touchend",function(e){e.preventDefault(),m.down=!1})}function i(n,i,o,r){for(this.x=this.sx=n,this.y=this.sy=i,this.tx=o,this.ty=r,this.distanceToTarget=t(n,i,o,r),this.distanceTraveled=0,this.coordinates=[],this.coordinateCount=3;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=Math.atan2(r-i,o-n),this.speed=h.rocketSpeed,this.acceleration=h.rocketAcceleration,this.brightness=e(50,80),this.hue=v,this.targetRadius=1,this.targetDirection=!1,w++}function o(t,n){for(this.x=t,this.y=n,this.coordinates=[],this.coordinateCount=5;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=e(0,2*Math.PI),this.speed=e(1,10),this.friction=h.particleFriction,this.gravity=h.particleGravity,this.hue=e(v-20,v+20),this.brightness=e(50,80),this.alpha=1,this.decay=e(.01,.03)}function r(t,n){for(var i=Math.round(e(h.particleMinCount,h.particleMaxCount));i--;)c.push(new o(t,n))}function a(){f=window.requestAnimFrame(a),v+=.5,d.globalCompositeOperation="destination-out",d.fillStyle="rgba(0, 0, 0, 0.5)",d.fillRect(0,0,u,g),d.globalCompositeOperation="lighter";for(var t=s.length;t--;)s[t].draw(),s[t].update(t);for(t=c.length;t--;)c[t].draw(),c[t].update(t);y>=h.timerInterval?m.down||(s.push(new i(u/2,g,e(0,u),e(0,g/2))),y=0):y++,p>=h.clickLimiter?m.down&&(s.push(new i(u/2,g,m.x,m.y)),p=0):p++}var s,c,l,d,u,g,f,h={startingHue:120,clickLimiter:5,timerInterval:40,showTargets:!1,rocketSpeed:2,rocketAcceleration:1.03,particleFriction:.95,particleGravity:1,particleMinCount:25,particleMaxCount:40,particleMinRadius:3,particleMaxRadius:5},m={down:!1,x:0,y:0},v=h.startingHue,p=0,y=0,w=0;return window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){}}(),i.prototype.update=function(e){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.targetDirection?this.targetRadius>1?this.targetRadius-=.15:this.targetDirection=!1:this.targetRadius<8?this.targetRadius+=.15:this.targetDirection=!0,this.speed*=this.acceleration;var n=Math.cos(this.angle)*this.speed,i=Math.sin(this.angle)*this.speed;this.distanceTraveled=t(this.sx,this.sy,this.x+n,this.y+i),this.distanceTraveled>=this.distanceToTarget?(r(this.tx,this.ty),s.splice(e,1)):(this.x+=n,this.y+=i)},i.prototype.draw=function(){var e=this.coordinates[this.coordinates.length-1];d.beginPath(),d.moveTo(e[0],e[1]),d.lineTo(this.x,this.y),d.strokeStyle="hsl("+this.hue+",100%,"+this.brightness+"%)",d.stroke(),h.showTargets&&(d.beginPath(),d.arc(this.tx,this.ty,this.targetRadius,0,2*Math.PI),d.stroke())},o.prototype.update=function(e){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&c.splice(e,1)},o.prototype.draw=function(){var t=(this.coordinates[this.coordinates.length-1],Math.round(e(h.particleMinRadius,h.particleMaxRadius))),n=d.createRadialGradient(this.x,this.y,0,this.x,this.y,t);n.addColorStop(0,"white"),n.addColorStop(.1,"white"),n.addColorStop(.1,"hsla("+this.hue+",100%,"+this.brightness+"%,"+this.alpha+")"),n.addColorStop(1,"black"),d.beginPath(),d.fillStyle=n,d.arc(this.x,this.y,t,2*Math.PI,!1),d.fill()},{start:function(){n(),f||a()},stop:function(){f&&(window.cancelAnimationFrame(f),d.clearRect(0,0,l.width,l.height),f=void 0)}}}),define("clickTracker",[],function(){function e(){i=document.getElementById("popup"),i.style.visibility="visible",n=document.getElementById("popupCanvas").getContext("2d"),n.clearRect(0,0,360,360),a="hidden"===document.getElementById("revealedPage").style.visibility?!0:!1,document.getElementById("popupCanvas").addEventListener("click",function(){i.style.visibility="hidden"})}function t(e,t,i,o){o&&(n.beginPath(),n.arc(t,i,s,c,l),n.fillStyle=e,n.fill(),n.stroke())}var n,i,o=[],r=0,a=!1,s=6,c=0,l=2*Math.PI;return{addClick:function(e,t,n){o[r++]={posX:e,posY:t,type:n}},showPositions:function(){e();for(var n=0;n<o.length;n++)switch(o[n].type){case"reveal":t("yellow",o[n].posX,o[n].posY,a);break;case"time":t("white",o[n].posX,o[n].posY,!0);break;case"settings":t("blue",o[n].posX,o[n].posY,!0);break;case"wrong":t("red",o[n].posX,o[n].posY,!a);break;case"menu":t("orange",o[n].posX,o[n].posY,!a);break;case"right":t("green",o[n].posX,o[n].posY,!a)}}}}),define("background",[],function(){var e=0,t=["url('assets/simple_background.png')","url('assets/city_background.png')","url('assets/countryside_background.png')"],n=1440,i="360px 180px";return{change:function(){e++,e===t.length&&(e=0);var n=document.getElementById("landscapeCanvas");n.style.background=t[e],n.style.backgroundSize=i},rotate:function(e,t,i){i>=e&&t>=i?(degrees=(180/(t-e)).toFixed(2),degrees=90+(i-e)*degrees,document.getElementById("rotationCanvas").style.transform="rotate("+degrees+"deg)"):(degrees=(180/(e+(n-t))).toFixed(2),i>t?degrees=270+(i-t)*degrees:degrees=270+(i+(n-t))*degrees,document.getElementById("rotationCanvas").style.transform="rotate("+degrees+"deg)")}}}),define("effects",[],function(){function e(e,t){var n=.8,i=setInterval(function(){.1>=n&&(clearInterval(i),e.style.visibility="hidden"),e.style.opacity=n,e.style.filter="alpha(opacity="+100*n+")",n-=.1*n},t)}var t,n,i=360,o=120,r=20,a=100;return{feedbackByImage:function(s){t=document.getElementById("imageFadeCanvas"),t.style.visibility="visible",t.style.opacity=1,n=t.getContext("2d");var c=new Image;c.onload=function(){n.drawImage(c,0,0,i,o)},c.src=s,setTimeout(function(){e(t,r)},a)},unfade:function(e,t){var n=.1;e.style.display="block";var i=setInterval(function(){n>=.8&&clearInterval(i),e.style.opacity=n,e.style.filter="alpha(opacity="+100*n+")",n+=.1*n},t)},fade:function(t,n){e(t,n)}}}),define("settings",["effects","userData"],function(e,t){function n(){e.fade(i,o)}var i,o=5;return{create:function(e){i=document.getElementById("settingsPage"),document.getElementById("settingsSpace").addEventListener("click",function(){n()}),document.getElementById("reverseButton").addEventListener("click",function(){t.addEvent("reverse"),t.setReverseStatus(!t.getReverseStatus()),e()}),document.getElementById("logOutButton").addEventListener("click",function(){t.clear(),document.location.reload(!0)}),document.getElementById("backButtonInSettings").addEventListener("click",function(){n()})},show:function(){i.style.visibility="visible",e.unfade(i,o),setTimeout(function(){n()},5e3)}}}),define("menu",["effects","userData"],function(e,t){function n(){e.fade(o,s)}function i(n,i){t.removeWord()?(e.feedbackByImage(n),t.saveEvents(),t.saveWordPair(),t.sendEvents(),i()):(r.style.visibility="visible",r.style.opacity=.8,a.clearRect(0,0,f,h/2),a.font="20px Arial",a.fillStyle="white",a.textAlign="center",a.fillText("TOO FEW WORDS",f/2,c),a.fillText("there are too",f/2,l),a.fillText("few words left to",f/2,d),a.fillText("use this option",f/2,u),setTimeout(function(){e.fade(r,s)},g))}var o,r,a,s=5,c=25,l=50,d=70,u=90,g=3e3,f=360,h=360;return{create:function(e){o=document.getElementById("menuPage"),r=document.getElementById("imageFadeCanvas"),a=r.getContext("2d"),document.getElementById("menuSpace").addEventListener("click",function(){n()}),document.getElementById("wrongTranslationButton").addEventListener("click",function(){t.addEvent("wrongTranslation"),i("assets/trash_icon.png",e)}),document.getElementById("learnedButton").addEventListener("click",function(){t.addEvent("learnedIt"),i("assets/right_icon.png",e)}),document.getElementById("backButtonInMenu").addEventListener("click",function(){n()})},show:function(){o.style.visibility="visible",e.unfade(o,s),setTimeout(function(){n()},5e3)}}}),define("gui",["battery","userData","time","weather","fireworks","clickTracker","background","effects","settings","menu"],function(e,t,n,i,o,r,a,s,c,l){function d(e,t,n,i){v.font=i+p,v.fillStyle=E,v.textAlign="center",v.fillText(e,t,n)}function u(){document.getElementById("wordCanvas").style.backgroundImage="url('assets/background.png')",v.clearRect(0,6,S,I),d(t.getWord(),S/2,C,y);var e=document.getElementById("revealedPage");e.style.visibility="hidden"}function g(){v.clearRect(0,6,S,I),d(t.getWord(),S/2,C,y),d(t.getTranslation(),S/2,x,w),document.getElementById("wordCanvas").style.backgroundImage="url('assets/revealed_clicked_background.png')";var e=document.getElementById("revealedPage");e.style.visibility="visible"}function f(){null===k?k=setTimeout(function(){k=null,a.change()},300):(clearTimeout(k),k=null,c.show())}function h(){t.addEvent("right"),t.saveEvents(),t.sendEvents();var e="assets/right_icon.png";t.updateWordPair(!0),t.saveWordPair(),s.feedbackByImage(e),u()}function m(){t.addEvent("wrong"),t.saveEvents(),t.sendEvents();var e="assets/wrong_icon.png";t.updateWordPair(!1),t.saveWordPair(),s.feedbackByImage(e),u()}var v,p="px Arial",y=45,w=35,E="white",S=360,I=120,C=45,x=95,k=null;return{draw:function(){n.refresh(),n.draw(),n.drawDate(),e.draw(),i.draw();var t=60*n.getHours()+1*n.getMinutes();a.rotate(i.getSunrise(),i.getSunset(),t)},create:function(e){v=e,n.create(),c.create(u),l.create(u),i.create(),i.refresh(),i.save(),u(),document.getElementById("wordCanvas").addEventListener("click",function(e){t.addEvent("reveal"),t.saveEvents(),g(),r.addClick(e.clientX,e.clientY,"reveal")}),document.getElementById("revealButton").addEventListener("click",function(e){t.addEvent("reveal"),t.saveEvents(),g(),r.addClick(e.clientX,e.clientY,"reveal")}),document.getElementById("wrongCanvas").addEventListener("click",function(e){m(),r.addClick(e.clientX,e.clientY,"wrong")}),document.getElementById("wrongButton").addEventListener("click",function(e){m(),r.addClick(e.clientX,e.clientY,"wrong")}),document.getElementById("menuCanvas").addEventListener("click",function(e){l.show(),r.addClick(e.clientX,e.clientY,"menu")}),document.getElementById("menuButton").addEventListener("click",function(e){l.show(),r.addClick(e.clientX,e.clientY,"menu")}),document.getElementById("rightCanvas").addEventListener("click",function(e){h(),r.addClick(e.clientX,e.clientY,"right")}),document.getElementById("rightButton").addEventListener("click",function(e){h(),r.addClick(e.clientX,e.clientY,"right")}),document.getElementById("time").addEventListener("click",function(e){r.addClick(e.clientX,e.clientY,"time"),f()}),document.getElementById("temperatureCanvas").addEventListener("click",function(){r.showPositions()})}}}),define("device",["userData","weather","time"],function(e,t,n){function i(){try{tizen.power.setScreenStateChangeListener(function(i,o){"SCREEN_NORMAL"===o&&"SCREEN_OFF"===i?(console.log("We just woke up"),e.addEvent("screenOn"),n.start(),t.refresh()):(console.log("The display has been switched off"),e.addEvent("screenOff"),n.pause()),e.saveEvents()})}catch(i){}}function o(){document.addEventListener("tizenhwkey",function(e){if("back"===e.keyName)try{tizen.application.getCurrentApplication().exit()}catch(t){}})}return{create:function(){o()},listen:function(){i()}}}),require(["login","session","gui","device"],function(e,t,n,i){function o(){n.draw(),i.listen(),setTimeout(o,1e3)}function r(e){t.create(s,e),t.printWords();var r=t.getStatus();return"SUCCESS"!==r?r:(n.create(s),i.create(),o(),r)}var a=document.getElementById("wordCanvas"),s=a.getContext("2d");new e(r)}),define("main",function(){});